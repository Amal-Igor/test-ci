name: CI Demo PNPh
env:
  JAVA_VERSION: '21' # On centralise ici

on: [push]

jobs:
  linter:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-java@v5
        with:
          distribution: 'temurin'
          java-version: ${{ env.JAVA_VERSION }} # On utilise la variable
          cache: 'maven'
      - run: mvn checkstyle:check

  test-java-junit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-java@v5
        with:
          distribution: 'temurin'
          java-version: ${{ env.JAVA_VERSION }} # On la r√©utilise ici
          cache: 'maven'
      - run: mvn test -Dcheckstyle.skip